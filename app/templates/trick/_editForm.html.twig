
{{ form_start(form) }}
    {{ form_row(form.name) }}
    {{ form_errors(form.name) }}

    {{ form_row(form.description) }}
    {{ form_errors(form.description) }}

    {{ form_row(form.trickCategory) }}
    {{ form_errors(form.trickCategory) }}

{#    {{ form_widget(form.trickImages) }}#}
    <div class="row">
        {% for trickImage in trick.trickImages %}
            <div class="col-lg-3 mb-sm-2 d-flex justify-content-between align-items-center">
                <div>
                    <img src="{{ asset(trickImage.path) }}" class="img-thumbnail rounded" alt="{{ trickImage.name }}">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <label for="mainPicture">Principale</label>
                            <input type="radio" name="mainPicture" class="js-mainPicture" data-mainPicture="{{ path('trick_setTricksMainPicture', {'slug': trick.slug, 'id': trickImage .id })}}" value="{{ trickImage.id }}">
                        </div>
                        <a href="{{ path('trick_image-delete', {'slug': trick.slug, 'id': trickImage .id }) }}" data-delete data-token="{{ csrf_token('delete-image') }}"><i class="fa fa-trash"></i> Supprimer</a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

    <h4>Images</h4>
    <ul
            class="pictures"
            data-index="{{ form.trickImages|length > 0 ? form.trickImages|last.vars.name + 1 : 0 }}"
            data-prototype="{{ form_widget(form.trickImages.vars.prototype)|e('html_attr') }}"
    >
        <button type="button" class="add_item_link" data-collection-holder-class="pictures">Ajouter une image</button>
        {% for image in form.trickImages %}
            {% if not image.name %}
                <li class="item">{{ form_row(image.name) }}</li>
                <li class="item">{{ form_row(image.file) }}</li>
            {% endif %}
        {% endfor %}
    </ul>

{#    <div class="row">#}
{#        {% for trickImage in trick.trickImages %}#}
{#            <div class="col-lg-3 mb-sm-2">#}
{#                <img src="{{ asset(trickImage.path) }}" class="img-thumbnail rounded" alt="{{ trickImage.name }}">#}
{#                <a href="{{ path('trick_image-delete', {'slug': trick.slug, 'id': trickImage .id }) }}" data-delete data-token="{{ csrf_token('delete-image') }}"><i class="fa fa-trash"></i> Supprimer</a>#}
{#            </div>#}
{#        {% endfor %}#}
{#    </div>#}
    {{ form_errors(form.trickImages) }}

    <button class="btn btn-primary">
        <i class="fa fa-save"></i>
        Enregistrer les modifications
    </button>

{#{{ form_end(form , {render_rest: false}) }}#}
{{ form_end(form) }}