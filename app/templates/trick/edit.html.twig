{% extends 'base.html.twig' %}

{% block title %}Editer {{ trick.name }}{% endblock %}

{% block body %}

    <section class="container my-5">
        <h1>Editer le trick "{{ trick.name }}"</h1>
        <div class="row">
            <div class="col-xl-2 col-lg-3 my-lg-0 my-sm-3 p-3 border text-start text-lg-center">
                <h4>Categories</h4>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item list-group-item-action"><a href="{{ path('trick_edit', {'slug': trick.slug }) }}">Informations</a></li>
{#                    <li class="list-group-item list-group-item-action"><a href="{{ path('trick_edit-tab', {'slug': trick.slug }) }}" data-content="image">Images</a></li>#}
{#                    <li class="list-group-item list-group-item-action"><a href="{{ path('trick_edit-tab', {'slug': trick.slug }) }}" data-content="video">Videos</a></li>#}
                    <li class="list-group-item list-group-item-action"><a href="" data-content="image">Images</a></li>
                    <li class="list-group-item list-group-item-action"><a href="" data-content="video">Videos</a></li>
                </ul>
            </div>

            {% if app.request.isXmlHttpRequest() %}
                {#            code if ajax request#}
            {% else  %}
                <div class="col js-content">
                    {% include 'trick/_editForm.html.twig' %}
                </div>
            {% endif %}


{#        <div class="row">#}
{#            {% for trickImage in trick.trickImages %}#}
{#                <div class="col-lg-3 mb-sm-2">#}
{#                    <img src="{{ asset(trickImage.path) }}" class="img-thumbnail rounded" alt="{{ trickImage.name }}">#}
{#                    <a href="{{ path('trick_image-delete', {'slug': trick.slug, 'id': trickImage .id }) }}" data-delete data-token="{{ csrf_token('delete-image') }}"><i class="fa fa-trash"></i> Supprimer</a>#}
{#                </div>#}
{#            {% endfor %}#}
{#        </div>#}

        </div>
    </section>
{% endblock %}

 {% block javascripts %}
     {{ parent() }}
     {{ encore_entry_script_tags('formImage') }}
     {{ encore_entry_script_tags('editTrick') }}
 {% endblock %}


{#            <h4>Images</h4>#}
{#            <ul#}
{#                    class="pictures"#}
{#                    data-index="{{ form.trickImages|length > 0 ? form.trickImages|last.vars.name + 1 : 0 }}"#}
{#                    data-prototype="{{ form_widget(form.trickImages.vars.prototype)|e('html_attr') }}"#}
{#            >#}
{#                <button type="button" class="add_item_link" data-collection-holder-class="pictures">Ajouter une image</button>#}
{#                {% for image in form.trickImages %}#}
{#                    <li class="item">{{ form_row(image.name) }}</li>#}
{#                    <li class="item">{{ form_row(image.file) }}</li>#}
{#                {% endfor %}#}
{#            </ul>#}

{#            <h4>Videos</h4>#}
{#            <ul#}
{#                    class="videos"#}
{#                    data-index="{{ form.trickVideos|length > 0 ? form.trickVideos|last.vars.name + 1 : 0 }}"#}
{#                    data-prototype="{{ form_widget(form.trickVideos.vars.prototype)|e('html_attr') }}"#}
{#            >#}
{#                <button type="button" class="add_item_link" data-collection-holder-class="videos">Ajouter une video</button>#}
{#                {% for video in form.trickVideos %}#}
{#                    <li class="item">{{ form_row(video.name) }}</li>#}
{#                    <li class="item">{{ form_row(video.url) }}</li>#}
{#                    <li class="item">{{ form_row(video.provider) }}</li>#}
{#                {% endfor %}#}
{#            </ul>#}